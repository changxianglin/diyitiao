<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>index10</title>
  </head>
  <body>
<button type="button" name="button" id = 'execute'>点击我执行命令</button>
<button type="button" name="button" id = 'undo'>点击我执行命令</button>
<script type="text/javascript">
var Tv = {
  open: function() {
    console.log('打开电视机')
  },
  close: function() {
    console.log('关上电视机')
  }
}

var OpenTvCommand = function(receiver) {
  this.receiver = receiver
}

OpenTvCommand.prototype.execute = function() {
  this.receiver.open()
}

OpenTvCommand.prototype.undo = function() {
  this.receiver.close()
}

var setCommand = function(command) {
  document.getElementById('execute').onclick = function() {
    command.execute()
  }
  document.getElementById('undo').onclick = function() {
    command.undo()
  }
}

setCommand(new OpenTvCommand(Tv))
</script>
  </body>
</html>
