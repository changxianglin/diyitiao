<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>基于数据级联</title>
        <script type="text/javascript">
            // var arr = new Array("A", "B", "C")
            // arr[3] = 123
            // for(var i = 0; i < arr.length; i++) {
            //     console.log(arr[i])
            // }
            //
            // for(temp in arr){
            //     console.info('下标' + temp + ',值为：' + arr[temp])
            // }
            // arr = new Array()
            // arr['广东省'] = ['广州', '深圳', '珠海']
            // arr['湖北省'] = ['武汉', '襄樊', '赤壁']
            // window.onload = function() {
            //     var proSel = document.getElementById('province')
            //     for (temp in arr) {
            //         proSel.add(new Option(temp, temp))
            //     }
            // }
            // function setCity() {
            //     var citySel = document.getElementById('city')
            //     citySel.options.length = 1
            //     var pro = document.getElementById('province').value
            //     if(pro == "") return
            //     for(var i = 0; i < arr[pro].length; i++){
            //         citySel.add(new Option(arr[pro][i], arr[pro][i]))
            //     }
            // }

            var str = '{"name":"demo", "age":18}'
            console.info('当前类型为：'+ typeof(str))
            var obj = JSON.parse(str)
            console.info('类型为：' + typeof(obj))
            console.info(obj.name + ',' + obj.age +'||'+ obj["name"] + ',' + obj["age"])
            for(temp in obj){
                console.info(temp + ':' + obj[temp])
            }
            str = JSON.stringify(obj)
            console.info('当前类型为：'+ typeof(str))


            var proJSON = {"1":"广东省", "2":"湖北省"}
            var cityJSON = {"1":{'020':'广州', '0755':'深圳', '0756':'珠海'},
            '2':{'027':'武汉', '0710':'襄樊', '0715':'赤壁'}}

            window.onload = function(){
                var province  = document.getElementById('province')
                for(temp in proJSON) {
                    province.add(new Option(proJSON[temp], temp))
                }
            }
            function setCity() {
                var city = document.getElementById('city')
                city.options.length = 1
                var val = document.getElementById("province").value
                console.info('cityJSON' + cityJSON[val])
                if(!cityJSON[val]) return
                var sonJSON = cityJSON[val]
                for(temp in sonJSON) {
                    city.add(new Option(sonJSON[temp], temp))
                }
            }
        </script>
    </head>
    <body>
        <select id="province" onchange='setCity()'>
            <option value="">选择省会</option>
        </select>
        <select id="city">
            <option value="">选择城市</option>
        </select>
    </body>
</html>
